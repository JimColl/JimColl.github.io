<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="James Matthew Coll">

  
  
  
    
  
  <meta name="description" content="Lab 5 - Model Builder Learning Objective As you have likely noticed, the process of delineating a lake follows a predictable workflow that could easily be automated, and because time is money, it would behoove us to create a script one could run which would create the needed outputs for us without all the tedious clicking and typing that would otherwise have to occur. Fortunately, ArcGIS has a mode, Model Builder, which enables us to visually create a workflow to connect our data to a series of Operations without the need to actually code in python.">

  
  <link rel="alternate" hreflang="en-us" href="https://jimcoll.github.io/courses/geog558/lab05/">

  


  

  
  
  
  <meta name="theme-color" content="#4caf50">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.5f8a892bbf54831e755facb704359ff8.css">

  

  
  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://jimcoll.github.io/courses/geog558/lab05/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Jim Coll">
  <meta property="og:url" content="https://jimcoll.github.io/courses/geog558/lab05/">
  <meta property="og:title" content=" | Jim Coll">
  <meta property="og:description" content="Lab 5 - Model Builder Learning Objective As you have likely noticed, the process of delineating a lake follows a predictable workflow that could easily be automated, and because time is money, it would behoove us to create a script one could run which would create the needed outputs for us without all the tedious clicking and typing that would otherwise have to occur. Fortunately, ArcGIS has a mode, Model Builder, which enables us to visually create a workflow to connect our data to a series of Operations without the need to actually code in python."><meta property="og:image" content="https://jimcoll.github.io/img/icon-192.png">
  <meta property="twitter:image" content="https://jimcoll.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
    
  

  


  





  <title> | Jim Coll</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Jim Coll</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/"><span>Main Website</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/geog358/"><span>GEOG 358</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/courses/geog558/"><span>GEOG 558</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/dronemapping/"><span>Drone Mapping</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/random/"><span>Random</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/geog558/">Class Outline</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/geog558/classoutline/">Introduction and Syllabus</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/geog558"></a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/geog558/lab01/">Labs</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/geog558/lab01/">Lab 1 - Data survey and database building</a>
      </li>
      
      <li >
        <a href="/courses/geog558/lab02/">Lab 2 - Cartographic Modeling</a>
      </li>
      
      <li >
        <a href="/courses/geog558/lab03/">Lab 3 - Focal Operations</a>
      </li>
      
      <li >
        <a href="/courses/geog558/lab04/">Lab 4 - Zonal Operations</a>
      </li>
      
      <li class="active">
        <a href="/courses/geog558/lab05/">Lab 5 - Model Builder</a>
      </li>
      
      <li >
        <a href="/courses/geog558/lab06/">Lab 6 - Cost Distance, Region Groups, more Model Builder &amp; Python</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      <nav id="TableOfContents">
<ul>
<li><a href="#lab-5-model-builder"><strong>Lab 5 - Model Builder</strong></a></li>
<li><a href="#learning-objective"><strong>Learning Objective</strong></a></li>
<li><a href="#what-you-need-to-submit"><strong>What you need to submit</strong></a></li>
<li><a href="#materials"><strong>Materials</strong></a></li>
<li><a href="#part-1-performing-our-analysis-for-one-year"><strong>Part 1: Performing our analysis for one year</strong></a></li>
<li><a href="#part-1a-setting-up-arcmap"><strong>Part 1A: Setting up Arcmap</strong></a>
<ul>
<li><a href="#getting-set-up"><strong>Getting set up</strong></a></li>
<li><a href="#create-the-lakeseed-shapefile"><strong>Create the LakeSeed shapefile</strong></a></li>
</ul></li>
<li><a href="#part-1b-isolate-the-lake"><strong>Part 1B: Isolate the lake</strong>:</a>
<ul>
<li><a href="#calculate-and-threshold-ndwi-in-one-expression"><strong>Calculate and threshold NDWI (in one expression)</strong></a></li>
<li><a href="#use-the-lakeseed-to-isolate-just-the-ndwi-zone-we-want"><strong>Use the LakeSeed to isolate just the NDWI zone we want</strong></a></li>
</ul></li>
<li><a href="#part-1c-lake-volume-calculation"><strong>Part 1C: Lake volume calculation</strong>:</a>
<ul>
<li><a href="#calculate-the-boundary-of-the-lake-in-1995-using-a-focal-erosion-process"><strong>Calculate the boundary of the lake in 1995 using a focal erosion process</strong></a></li>
<li><a href="#calculate-the-height-the-water-rises-to-on-the-terrain"><strong>Calculate the height the water rises to on the terrain</strong></a></li>
<li><a href="#create-the-lake-surface-raster"><strong>Create the lake surface raster</strong></a></li>
<li><a href="#calculate-the-volume-as-per-lab-4"><strong>Calculate the volume (as per lab 4)</strong></a></li>
</ul></li>
<li><a href="#part-2-creating-the-model"><strong>PART 2: Creating the model</strong></a>
<ul>
<li><a href="#set-up-the-folders-for-the-lab"><strong>Set up the folders for the lab</strong></a></li>
<li><a href="#starting-a-model-setting-up-the-workflow"><strong>Starting a Model &amp; Setting up the Workflow</strong></a></li>
<li><a href="#build-the-rest-of-the-workflow"><strong>Build the rest of the workflow</strong></a></li>
</ul></li>
</ul>
</nav>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name"></h1>

          <div class="article-style" itemprop="articleBody">
            

<h1 id="lab-5-model-builder"><strong>Lab 5 - Model Builder</strong></h1>

<h1 id="learning-objective"><strong>Learning Objective</strong></h1>

<p>As you have likely noticed, the process of delineating a lake follows a predictable workflow that could easily be automated, and because time is money, it would behoove us to create a script one could run which would create the needed outputs for us without all the tedious clicking and typing that would otherwise have to occur.  Fortunately, ArcGIS has a mode, Model Builder, which enables us to visually create a workflow to connect our data to a series of Operations without the need to actually code in python.  To do this effectively, we need to modify our process somewhat, so the first part of this lab will walk us through the steps needed to perform this analysis on a single year, and part 2 will introduce the model builder interface and how this process can be automated and applied to each year we downloaded in lab 1.  By the end of this lab you should have a firm grasp on the local, focal and zonal operations we need to use to create the lake, and how model builder can be used in numerous applications to speed up your workflows.</p>

<h1 id="what-you-need-to-submit"><strong>What you need to submit</strong></h1>

<p>Submit an image of both your analysis and a screenshot of your model to blackboard.  Then submit your screenshot to this Google Sheet.</p>

<h1 id="materials"><strong>Materials</strong></h1>

<p><style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;border-color:#ccc;margin:0px auto;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#ccc;color:#333;background-color:#fff;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#ccc;color:#333;background-color:#f0f0f0;}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-btxf{background-color:#f9f9f9;border-color:inherit;text-align:left;vertical-align:top}
</style>
<table class="tg">
  <tr>
    <th class="tg-0pky">Data Name</th>
    <th class="tg-0pky">Description</th>
  </tr>
  <tr>
    <td class="tg-btxf">BaseData</td>
    <td class="tg-btxf">Data we downloaded as part of lab 1</td>
  </tr>
</table></p>

<hr />

<h1 id="part-1-performing-our-analysis-for-one-year"><strong>Part 1: Performing our analysis for one year</strong></h1>

<h1 id="part-1a-setting-up-arcmap"><strong>Part 1A: Setting up Arcmap</strong></h1>

<h2 id="getting-set-up"><strong>Getting set up</strong></h2>

<p>First let’s lay down the foundation.</p>

<ul>
<li>Open ArcMap and make sure that the Spatial Analyst extension is activated, and overwriting files is enabled.

<ul>
<li><em>Customize &gt; Extensions</em> &amp; <em>ArcMap options</em>.</li>
</ul></li>
<li>Rename the default data frame to Base Data and add in the AOI, Bands 2 and 4, and the MTL file for each year.</li>
<li>To force our model to calculate everything using a consistent grid size, change the Geoprocessing &gt; Environments settings to the following:

<ul>
<li><strong>Workspace</strong>: Set both the Current workspace and Scratch workspaces to your lab05 folder.</li>
<li><strong>Processing Extent</strong>: Use the folder icon and point it to your AOI shapefile.  Use the folder icon next to snap raster to select the elevation dataset.</li>
<li><strong>Raster Analysis</strong>: Select As specified below and type in 30.</li>
<li>Click OK.</li>
</ul></li>
</ul>

<p>As you discovered in lab 4, the <strong>region group</strong> tool was useful in creating a raster we could use to select the desired areas.  However, the region values were random.  Although we could in theory make a program and so this will not work if we are attempting to create a programmatic workflow.  We will instead use a “seed” and the cost distance tool to classify which of the NDWI zones we want.</p>

<h2 id="create-the-lakeseed-shapefile"><strong>Create the LakeSeed shapefile</strong></h2>

<ul>
<li>In the ArcCatalogue window right click on the Lab 5 folder and create a new feature class.<br /></li>
<li>Call the class LakeSeed and make it a point feature.  Click next.</li>
<li>Use the Layers box to select the correct projection.  Click next until you reach the Field Names category.<br /></li>
<li>In the first empty Field Name box, type in VALUE and change the Data Type to Short Integer.  In the field properties you can set the default value to 1.  Click Finish.  The layer should be added to your window.<br /></li>
<li>On the Editor toolbar, click Editor &gt; Start Editing.<br /></li>
<li>In the Create Features window, click LakeSeed and choose the point tool.<br /></li>
<li>Create a single feature that will “intersect” all lake layers through time, so the center of the smallest lake extent is best.</li>
<li>When finished, click editor &gt;  stop editing and save edits.<br />
<img src="/courses/geog558/media/Lab05Picture01.png" alt="" /><br /></li>
</ul>

<hr />

<h1 id="part-1b-isolate-the-lake"><strong>Part 1B: Isolate the lake</strong>:</h1>

<h2 id="calculate-and-threshold-ndwi-in-one-expression"><strong>Calculate and threshold NDWI (in one expression)</strong></h2>

<p>Recall from lab 2 that this expression needs appropriate parenthesis and the Float() attribute.  However, we want to reverse the expression here so that <strong>we want to classify as a lake has a 0 vale, and everything else has a value of 1</strong>.  This way we can use the cost distance tool to traverse all connected lake pixels without inuring a cost.</p>

<ul>
<li>Hint: My expression looks like </br><mark><i>(Float(&ldquo;1995\LT05_&hellip;<em>B2.TIF&rdquo; - &ldquo;1995\LT05</em>&hellip;<em>B4.TIF&rdquo;) / Float(&ldquo;1995\LT05</em>&hellip;<em>B2.TIF&rdquo; + &ldquo;1995\LT05</em>&hellip;_B4.TIF&rdquo;))  &lt;= 0.3</mark></i><br /></li>
<li>Call the output <i>NDWI_yyyy</i>.</li>
</ul>

<h2 id="use-the-lakeseed-to-isolate-just-the-ndwi-zone-we-want"><strong>Use the LakeSeed to isolate just the NDWI zone we want</strong></h2>

<ul>
<li>Use the search bar to find the <strong>Cost Distance</strong> tool.</li>
<li>The source data is the <i>LakeSeedRas</i>.</li>
<li>The input cost raster is the <i>NDWI_1995</i> layer.</li>
<li>Save the output as <i>COST_1995</i>.</li>
<li>To save ourselves a step, we can set the maximum distance to 0.01(something small), so that we only end up with the lake area that can be reached without crossing a land barrier.</li>
<li>We want just the lake, so use raster calculator and get just the areas with 0 cost

<ul>
<li>Hint: <mark><i>“Cost_yyyy.tif” ==0</mark></i></li>
<li>Save the raster as <i>Lake_yyyy.tif</i></li>
</ul></li>
</ul>

<hr />

<h1 id="part-1c-lake-volume-calculation"><strong>Part 1C: Lake volume calculation</strong>:</h1>

<h2 id="calculate-the-boundary-of-the-lake-in-1995-using-a-focal-erosion-process"><strong>Calculate the boundary of the lake in 1995 using a focal erosion process</strong></h2>

<p>(as per lab 3)</p>

<ul>
<li>Using the <strong>Focal statistics</strong> tool, calculate the focal minimum using a rectangular 3x3 grid</li>
<li>The input should be the <i>Lake_1995</i> layer</li>
<li>Save the output <i>Lake_Fmin.TIF</i></li>
<li>Using <strong>raster calculator</strong>, subtract the focal min raster from the lake classification raster to get just the boundary.</li>
<li><mark><i>&ldquo;1995\LT05<em>L1TP</em>&hellip;_NDWI_3.TIF&rdquo; - &ldquo;1995\LT05<em>L1TP</em>&hellip;_NDWI_FMin.TIF&rdquo;</mark></i></li>
<li>Save the output of the map as <i>lakeEdge_1995.tif</i></li>
</ul>

<h2 id="calculate-the-height-the-water-rises-to-on-the-terrain"><strong>Calculate the height the water rises to on the terrain</strong></h2>

<p>As per lab 4 we will use <strong>zonal statistics as table</strong> and our newly created zone to calculate the (<em>insert statistic here</em>) value of the elevation data.</p>

<ul>
<li>Use the lake boundary (<i>lakeEdge_1995.tif</i>) as our zonal definition</li>
<li>We want the statistics from the elevation data, so that goes in the “Input Value Raster” box</li>
<li>Choose a statistic, I chose maximum but feel free to explore other options</li>
<li>Save the output as <i>…LakeBoundary_ZonalStat</i></li>
</ul>

<h2 id="create-the-lake-surface-raster"><strong>Create the lake surface raster</strong></h2>

<p>Also from lab 4 use the <strong>reclass by table</strong> function (spatial analyst) to reclassify the <i>lake_1995</i> raster into a lake surface raster.</p>

<ul>
<li>Your input raster is <i>Lake_1995</i>.</li>
<li>Your remap table is the table created from zonal statistics as table (<i>LakeBoundary_ZonalStat</i>)</li>
<li>The From, to, and output value should fill in asutomagically</li>
<li>Save the output as <i>LakeSurface_yyyy.tif</i></li>
</ul>

<p>We need just the lake elevations, and given the tools shown so far we could accomplish that by multiplying them with the Lake_1995 raster using raster calculator (to set the values we no longer want to 0), and then setting the 0 values to NoData.  We can do this in 1 step through raster calculator using the  Set <strong>Null function</strong>.  The <strong>Set Null(,)</strong> function takes two arguments, a mask which sets the values to null and a raster with the values to set otherwise.</p>

<blockquote>
<p>Hint: <mark><i>SetNull(&ldquo;%Lake_1995%&rdquo; ==0, &ldquo;%LakeSurface_ZS.tif%&ldquo;)</mark></i></p>
</blockquote>

<ul>
<li>Save the output raster as LakeSurface</li>
</ul>

<h2 id="calculate-the-volume-as-per-lab-4"><strong>Calculate the volume (as per lab 4)</strong></h2>

<ul>
<li>Subtract the Lake Surface from the DEM using the <strong>raster calculator</strong> tool

<ul>
<li>Save the output as <i>LakeVolume.tif</i></li>
</ul></li>
<li>Use the <strong>Add field</strong> tool (data management) to create a new field

<ul>
<li>Call it volume</li>
</ul></li>
<li>Use the <strong>Calculate Field</strong> tool to calculate the volume of each cell

<ul>
<li>Hint: Depth(Value) * area (30*30) * Count</li>
</ul></li>
<li>Use the <strong>summery table</strong> to create a table of volume</li>
</ul>

<p>This process was time consuming, and the only thing that changes in this workflow (once we’ve chosen a place to analyses), is the input bands.  This repetitious task is best completed using a function.  In ArcMap, functions can take the form of tools, and the visual programming interface called Model Builder.</p>

<hr />

<h1 id="part-2-creating-the-model"><strong>PART 2: Creating the model</strong></h1>

<h2 id="set-up-the-folders-for-the-lab"><strong>Set up the folders for the lab</strong></h2>

<ul>
<li>In your lab folder in the ArcCatalog pane, create a new File Geodatabase</li>
<li>In that same lab folder, Right click and create a new &gt; toolbox.  Name it <i>LakeVolumeAnalysis.tbx</i></li>
<li><strong>Right click</strong> on that toolbox and create a new &gt; model.<br /></li>
<li>A blank Model window will appear. Take a moment to explore the tools. You can go to ArcGIS Desktop Help to find more information about each of the tools.
<img src="/courses/geog558/media/Lab05ModelBuilderImage.png" alt="" /></li>
<li>Close the Model window.</li>
<li>Right click on the model and

<ul>
<li>In the general tab rename the model <i>LakeVolumeForAYear</i></li>
</ul></li>
<li>Re-open the Model by R-clicking and selecting Edit…</li>
<li>Set up the Model Properties by going to <strong>Model | Model Properties</strong></li>
<li>Under the Environments tab, check the boxes for <strong>Processing Extent | Extent</strong> and for <strong>Raster Analysis | Cell Size</strong>, and for <strong>Workspace</strong></li>
<li>Click the <em>Values…</em> button, and set the values as in part 1A</li>
<li>Remove all layers from the map<br /></li>
</ul>

<h2 id="starting-a-model-setting-up-the-workflow"><strong>Starting a Model &amp; Setting up the Workflow</strong></h2>

<p>You will create a workflow diagram in the Model window that will show all the steps and operations/tools needed to delineate the sea level change. We start the process by dragging tools from ArcToolbox into the Model window to perform a specific operation.</p>

<ul>
<li>Open ArcToolbox and set up your model window and ArcMap window so that you can see both ArcToolbox and the model window at the same time.</li>
<li>Use the add data button to add in the band 2 and band 4 rasters</li>
<li>Right click on the resulting oval and rename it to Band 2 and 4 respectively</li>
<li>Right click on it and make it a parameter by checking <strong>Model Parameter</strong> option from its popup menu (right-click). The letter <strong>P</strong> appears beside the variable, indicating it is a model parameter.</li>
<li>Insert a new variable with insert &gt; create variable

<ul>
<li>Select Double</li>
</ul></li>
<li>Double click on it and give it a default value of 0.3</li>
<li>Right click on it and make it a parameter as well.</li>
<li>Use the search function to drag in the <strong>raster calculator</strong> tool from ArcCatalog into the model builder canvas</li>
<li>Double click on the raster calculator tool and fill it out as appropriate using the steps above.

<ul>
<li>Make sure you use the drop downs to populate the raster calculator, pointing at the data is not appropriate here.</li>
<li>Hint: My expression looks like <mark><i>(Float(&ldquo;%1995 B2%&rdquo; - &ldquo;%1995 B4%&rdquo;) / Float(&ldquo;%1995 B2%&rdquo; + &ldquo;%1995 B4%&rdquo;)) &lt;= float(%Double%)</mark></i></li>
<li>Name the output <i>NDWI.tif</i></li>
</ul></li>
<li>The bubbles should color themselves in if you entered everything in correctly.  This means that the tools executed successfully, but be careful.  Just because it ran doesn’t mean it is right.  Your model should now look like so:</li>
</ul>

<p><img src="/courses/geog558/media/Lab05Picture02.png" alt="" /></p>

<h2 id="build-the-rest-of-the-workflow"><strong>Build the rest of the workflow</strong></h2>

<p>Build the rest of the workflow as defined above by dragging in tools.  Your final model should look like this:
<img src="/courses/geog558/media/Lab05Picture03.png" alt="" /><br />
Use your new model to create a chart of the lake volume change over time like so:
 <img src="/courses/geog558/media/Lab05Picture04.png" alt="" /><br />
Submit an image of both your analysis and a screenshot of your model to blackboard.</p>

          </div>

          



          
        </div>

        <div class="body-footer">
          <p>Last updated on Jan 1, 0001</p>

          


          

        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>


      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js"></script>

    






  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
